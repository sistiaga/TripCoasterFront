// master - MARSISCA - BEGIN 2026-01-08
@use './variables' as vars;

// =============================================================================
// Global Material Component Overrides
// IMPORTANTE: Solo overrides que afecten a TODOS los componentes de la app
// =============================================================================

// -----------------------------------------------------------------------------
// Mat Dialog - Global styles
// -----------------------------------------------------------------------------
.mat-mdc-dialog-container {
  border-radius: vars.$radius-lg !important;
  overflow: hidden !important;

  .mdc-dialog__surface {
    border-radius: vars.$radius-lg !important;
    box-shadow: vars.$shadow-lg !important;
  }
}

// master - MARSISCA - BEGIN 2026-01-09
// Mat Dialog Title - Enhanced styling with same height as actions
.mat-mdc-dialog-title,
h2[mat-dialog-title] {
  color: vars.$primary-color !important;
  font-weight: 700 !important;
  font-size: 2rem !important;
  //background-color: vars.$accent-light !important;
  padding: vars.$spacing-lg !important;
  margin: 0 !important;
  border-bottom: 2px solid vars.$primary-color !important;
}
// master - MARSISCA - END 2026-01-09

// Mat Dialog Actions - Spacing (same as title)
.mat-mdc-dialog-actions {
  padding: vars.$spacing-lg !important;
  gap: vars.$spacing-sm;
  border-top: 1px solid vars.$border-color;
}

// master - MARSISCA - BEGIN 2026-01-09
// Mat Dialog Content - Orange scrollbar and extra top padding
.mat-mdc-dialog-content {
  padding-top: vars.$spacing-xl !important;

  // Custom scrollbar for WebKit browsers
  &::-webkit-scrollbar {
    width: 10px;
  }

  &::-webkit-scrollbar-track {
    background-color: vars.$accent-light;
    border-radius: 10px;
  }

  &::-webkit-scrollbar-thumb {
    background-color: vars.$primary-color;
    border-radius: 10px;

    &:hover {
      background-color: vars.$primary-hover;
    }
  }

  // Custom scrollbar for Firefox
  scrollbar-width: thin;
  scrollbar-color: vars.$primary-color vars.$accent-light;
}
// master - MARSISCA - END 2026-01-09

// -----------------------------------------------------------------------------
// Mat Form Field - Global appearance
// -----------------------------------------------------------------------------

// Force all form fields to use outline appearance with consistent styling
.mat-mdc-form-field {
  width: 100%;

  // master - MARSISCA - BEGIN 2026-01-09
  // Label configuration - always above field
  .mat-mdc-form-field-flex {
   margin-top: vars.$spacing-xs;
//  margin-top: 1.25rem; // Espacio para la etiqueta que ahora vive arriba
  }

//.mat-mdc-form-field.mat-form-field-should-float .mat-mdc-floating-label {
  .mat-mdc-floating-label {
  //  font-weight: 500;
    color: vars.$text-secondary !important;
    font-size: 0.95rem !important;
    transform: translateY(-3.5rem) scale(1) !important;
//  width: 100%;
    background-color: transparent !important;
    padding: 0 !important;
//    position: absolute !important;
  }




  // master - MARSISCA - END 2026-01-09

  // Focus state - orange label
  &.mat-focused .mat-mdc-floating-label {
    color: vars.$primary-color !important;
  }

  // Input background
  .mat-mdc-text-field-wrapper {
    background-color: vars.$surface-color;
    border-radius: vars.$radius-md;
  }

  // master - MARSISCA - BEGIN 2026-01-09
  // Input borders - remove notch for cleaner look
  .mdc-notched-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: vars.$border-color !important;
      border-width: 1px;
    }

    // Hide notch (the cutout for the label)
    .mdc-notched-outline__notch {
      border-top: 2px solid vars.$border-color !important;
      border-left: none !important;
      border-right: none !important;
    }
  }

  // master - MARSISCA - END 2026-01-09

  // master - MARSISCA - BEGIN 2026-01-09
  // Focus border - keep notch closed
  &.mat-focused .mdc-notched-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: vars.$primary-color !important;
      border-width: 2px !important;
    }

    .mdc-notched-outline__notch {
      border-top: 2px solid vars.$primary-color !important;
      border-left: none !important;
      border-right: none !important;
    }
  }
  // master - MARSISCA - END 2026-01-09

  // Input text
  .mat-mdc-input-element,
  input.mat-mdc-input-element,
  textarea.mat-mdc-input-element {
    color: vars.$text-primary;
    padding: 0px;
  }
}

// -----------------------------------------------------------------------------
// Mat Select - Dropdown styling
// -----------------------------------------------------------------------------
.mat-mdc-select-arrow svg {
  color: rgba(vars.$primary-color, 0.7);
  fill: rgba(vars.$primary-color, 0.7);
}

.mat-mdc-select-panel {
  background-color: white !important;
  border-radius: vars.$radius-md !important;
}

// -----------------------------------------------------------------------------
// Mat Autocomplete - Panel styling
// -----------------------------------------------------------------------------
.mat-mdc-autocomplete-panel {
  background-color: white !important;
  border-radius: vars.$radius-md !important;
}

// -----------------------------------------------------------------------------
// Mat Datepicker - Calendar styling
// -----------------------------------------------------------------------------
.mat-datepicker-content {
  background-color: white !important;
  box-shadow: vars.$shadow-md !important;
  border-radius: vars.$radius-md !important;
}

.mat-calendar {
  background-color: white !important;
}

.mat-calendar-header {
  background-color: white !important;
}

.mat-calendar-body {
  background-color: white !important;
}

.mat-calendar-content {
  background-color: white !important;
}

.mat-datepicker-content-container {
  background-color: white !important;
}

.mat-calendar-table-header {
  background-color: white !important;
}

.mat-datepicker-toggle button {
  color: rgba(vars.$primary-color, 0.7);
}

// -----------------------------------------------------------------------------
// Mat Button - Brand styling
// -----------------------------------------------------------------------------

// Outlined button (Cancel, secondary actions)
.mat-mdc-button:not(.mat-mdc-raised-button):not(.mat-mdc-fab):not(.mat-mdc-mini-fab) {
  color: vars.$primary-color;
  border: 1px solid vars.$primary-color;
  border-radius: vars.$radius-md;
  padding: 10px 24px;
  font-weight: 500;

  &:hover:not([disabled]) {
    background-color: rgba(vars.$primary-color, 0.1);
  }
}

// Raised button (Primary actions)
.mat-mdc-raised-button {
  color: vars.$text-on-primary !important;
  background-color: vars.$primary-color !important;
  border-radius: vars.$radius-md !important;
  padding: 10px 24px !important;
  font-weight: 500 !important;
  box-shadow: vars.$shadow-sm;

  &:hover:not([disabled]) {
    background-color: vars.$primary-hover !important;
    box-shadow: vars.$shadow-md !important;
  }

  &[disabled] {
    opacity: 0.5;
    background-color: vars.$primary-color !important;
  }
}

// Icon button
.mat-mdc-icon-button {
  color: rgba(vars.$primary-color, 0.7);

  &:hover {
    background-color: rgba(vars.$primary-color, 0.1);
  }
}

// FAB button
.mat-mdc-fab,
.mat-mdc-mini-fab {
  &.mat-primary {
    background-color: vars.$primary-color;
    color: white;

    &:hover {
      background-color: vars.$primary-hover;
    }
  }
}

// -----------------------------------------------------------------------------
// Mat Tab Group - Settings page tab styling
// -----------------------------------------------------------------------------
.mat-mdc-tab-group {
  .mat-mdc-tab-header {
    border-bottom: 2px solid vars.$accent-light;
    margin-bottom: vars.$spacing-lg;
  }

  .mat-mdc-tab-labels {
    gap: vars.$spacing-sm;
  }

  .mat-mdc-tab {
    min-width: 120px;
    padding: 0 vars.$spacing-md;
    font-family: vars.$font-secondary;
    font-size: 0.875rem;
    font-weight: 500;
    color: vars.$secondary-color;
    opacity: 0.7;
    transition: all 0.3s ease;

    &:hover {
      opacity: 1;
      background-color: rgba(255, 127, 0, 0.05);
    }

    &.mdc-tab--active {
      opacity: 1;
      color: vars.$primary-color;
    }
  }

  .mat-mdc-tab-label-content {
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .mdc-tab-indicator__content--underline {
    border-color: vars.$primary-color;
    border-width: 3px;
  }
}

// master - MARSISCA - END 2026-01-08
